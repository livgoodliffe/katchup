timestamp = parseInt(document.getElementById('timestamp').value);

function clearResults() {
  const resultsContainer = document.getElementById('search-results')
  resultsContainer.innerHTML = ""
}

function addResults(resultHTML) {
  const resultsContainer = document.getElementById('search-results')
  resultsContainer.insertAdjacentHTML('beforeend', resultHTML)
}

if (timestamp === <%= @timestamp %>) {
  clearResults();
}

<% @spots.each do |spot| %>
if (timestamp === <%= @timestamp %>) {
  addResults(`<%= render("search_result", spot:spot) %>`)
}
<% end %>
